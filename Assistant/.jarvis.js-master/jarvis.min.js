/**	Point Jarvis
 *	@version : 1.0.0
 *	@author  : Raven Lagrimas | rjlagrimas08@gmail.com
 *	@license : MIT
 *	@link	 : http://ravenjohn.github.io/.jarvis.js
 */
!function(e){"use strict";var t=e.webkitSpeechRecognition||e.mozSpeechRecognition||e.msSpeechRecognition||e.oSpeechRecognition||e.SpeechRecognition;if(!t)throw new Error("Speech Recognition is not supported.");String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ")},String.prototype.toRegExp=function(){return new RegExp("^"+this.replace(/[\-{}\[\]+?.,\\\^$|#]/g,"\\$&").replace(/\s*\((.*?)\)\s*/g,"(?:$1)?").replace(/(\(\?)?:\w+/g,function(e,t){return t?e:"([^\\s]+)"}).replace(/\*\w+/g,"(.*?)").replace(/(\(\?:[^)]+\))\?/g,"\\s*$1?\\s*")+"$","i")};var r={name:"Jarvis",cmds:[],lang:"en-US",debug:!1,reqname:!1,continuous:!0,maxAlternatives:5,learn:function(e){e&&(this.cmds=e),this.onresult=function(e){for(var t=0,r=e.results[e.resultIndex],n=r.length;n>t;t+=1){var o=r[t].transcript.trim();this.onrecognize&&this.onrecognize(o),this.debug&&console.log("recognized : "+o);for(var i=0,s=this.cmds.length;s>i;i+=1){var a=((this.reqname?this.name+" ":"("+this.reqname+") ")+this.cmds[i][0]).toRegExp().exec(o);if(a){this.cmds[i][1].apply(this,a.slice(1)),this.debug&&console.log("match found");break}}if(i!=s)break;this.onnomatch&&this.onnomatch(o),this.debug&&console.log("match not found")}}},onerror:function(e){if("network"==e.error)throw new Error("Jarvis needs the Internet");if("not-allowed"==e.error)throw new Error("Jarvis was denied. X(");if("no-speech"==e.error)throw new Error("Please refresh. X(");throw new Error("Unknown error : "+e.error)},setLanguage:function(e){this.lang=e},addCommand:function(e){this.cmds.push(e)},setName:function(e){this.name=e},setVoiceKey:function(e){this.voicerssKey=e},speak:function(e){if("string"!=typeof e)throw new Error("Jarvis cannot speak other datatype, strings only.");if(e.length>100)throw new Error("Sorry but Jarvis is limited to speaking up to 100 characters only.");if(!this.voicerssKey)throw new Error("Voice Rss Key is missing. You can get it from http://www.voicerss.org/");var t=document.getElementById("_jarvis");if(!t){var r=document.createElement("audio");r.setAttribute("id","_jarvis"),r.setAttribute("autoplay","autoplay"),document.body.appendChild(r),t=document.getElementById("_jarvis")}e=e.toLowerCase().replace(/\./g," ").trim(),document.getElementById("_jarvis").src="http://api.voicerss.org/?key="+this.voicerssKey+"&language="+this.lang+"&src="+encodeURIComponent(e)}};e.jarvis=new t;for(var n in r)e.jarvis[n]=r[n]}(this);